<Window x:Class="Plmeco.App.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="PLMECO Transporte"
        Height="600"
        Width="900">

    <!-- Atajos de teclado -->
    <Window.InputBindings>
        <KeyBinding Key="S" Modifiers="Control"
                    Command="{x:Static ApplicationCommands.Save}"/>
        <KeyBinding Key="S" Modifiers="Control+Shift"
                    Command="{x:Static ApplicationCommands.SaveAs}"/>
    </Window.InputBindings>

    <Grid>
        <DockPanel>

            <!-- MENÚ ARCHIVO -->
            <Menu DockPanel.Dock="Top">
                <MenuItem Header="_Archivo">
                    <MenuItem Header="_Guardar"
                              Click="Guardar_Click"
                              InputGestureText="Ctrl+S"/>
                    <MenuItem Header="Guardar _como..."
                              Click="GuardarComo_Click"
                              InputGestureText="Ctrl+Shift+S"/>
                    <Separator/>
                    <MenuItem Header="_Salir" Click="Salir_Click"/>
                </MenuItem>
            </Menu>

            <!-- Botón importar (puedes mantenerlo) -->
            <Button DockPanel.Dock="Top"
                    Content="Importar Excel"
                    Click="Importar_Click"
                    Margin="5"/>

            <!-- Tabla principal -->
            <DataGrid x:Name="dgCargas"
                      AutoGenerateColumns="False"
                      CanUserAddRows="False"
                      MouseDoubleClick="DataGrid_MouseDoubleClick">

                <DataGrid.Columns>
                    <DataGridTextColumn Header="MATRICULA" Binding="{Binding Matricula}" Width="*"/>
                    <DataGridTextColumn Header="DESTINO" Binding="{Binding Destino}" Width="*"/>
                    <DataGridTextColumn Header="MUELLE" Binding="{Binding Muelle}" Width="0.5*"/>
                    <DataGridTextColumn Header="ESTADO" Binding="{Binding Estado}" Width="0.5*"/>

                    <!-- Horas: solo lectura y formato hh:mm -->
                    <DataGridTextColumn Header="LLEGADA REAL"
                                        Binding="{Binding LlegadaReal, StringFormat=hh\\:mm}"
                                        IsReadOnly="True" Width="0.6*"/>
                    <DataGridTextColumn Header="SALIDA REAL"
                                        Binding="{Binding SalidaReal, StringFormat=hh\\:mm}"
                                        IsReadOnly="True" Width="0.6*"/>
                    <DataGridTextColumn Header="SALIDA TOPE"
                                        Binding="{Binding SalidaTope, StringFormat=hh\\:mm}"
                                        IsReadOnly="True" Width="0.6*"/>

                    <DataGridTextColumn Header="INCIDENCIAS" Binding="{Binding Incidencias}" Width="*"/>
                    <DataGridCheckBoxColumn Header="LEX" Binding="{Binding Lex}" Width="0.5*"/>
                </DataGrid.Columns>
            </DataGrid>
        </DockPanel>
    </Grid>
</Window>
